
/* Vertical spacing
--------------------------------------------- */

.entry-content {
  margin-bottom: var(--global--spacing-vertical);

  .single & {
    margin-top: var(--global--text-margin);
  }

  // block spacing
  > * {
    margin-top: var(--global--block-margin);
    margin-bottom: 0;
  }

  > *:not(.has-background) {
    + .has-background {
      margin-top: var(--global--spacing-vertical);
    }
  }


  // after group (no background)
  > .wp-block-group {

    &:not(.has-background) {

      // groups without background + background
      + .has-background {
        margin-top: var(--global--spacing-vertical);
      }
    }

    &.has-background {

      // groups with background + background
      + .has-background {
        margin-top: 0;
      }
    }

  }

  // after cover block (not another has-background or cover)
  > .wp-block-cover {

    + *:not(.has-background):not(.wp-block-cover) {
      margin-top: var(--global--spacing-vertical);
    }
  }

  > .has-background {

    // all blocks after background (not has-background)
    + *:not(.has-background) {
      margin-top: var(--global--spacing-vertical);
    }
  }

  > .wp-block-columns + .wp-block-group {
    margin-top: var(--global--spacing-vertical);
  }


}
